<!DOCTYPE html>
<html>
  <head>
      <script>
  var _hmt = _hmt || []
  ;(function() {
    var hm = document.createElement('script')
    hm.src = 'https://hm.baidu.com/hm.js?5a0acc897fd96474a2c8f4deac84611a'
    var s = document.getElementsByTagName('script')[0]
    s.parentNode.insertBefore(hm, s)
  })()
</script> 
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    
    <title>
      CF1041E - Welcome to sher-wu&#39;s home !
    </title>
    <link rel="manifest" href="/manifest.json" />
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/style/style.css">
  </head>
  <body>
    
    <div id="post-toc" class="animated hiddenToc hide">
      <span class="title">Toc</span>
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#cf-round-509-div.2-e.-tree-reconstruction"><span class="toc-text">CF Round #509 (Div.2) E. Tree Reconstruction</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#description"><span class="toc-text">Description</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#input"><span class="toc-text">Input</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#output"><span class="toc-text">Output</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#examples"><span class="toc-text">Examples</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#input-1"><span class="toc-text">input</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#output-1"><span class="toc-text">output</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#input-2"><span class="toc-text">input</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#output-2"><span class="toc-text">output</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#input-3"><span class="toc-text">input</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#output-3"><span class="toc-text">output</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#note"><span class="toc-text">Note</span></a></li></ol></li></ol>
    </div>
    
    <div id="fixed-menu-wrap">
      <span class="iconfont icon-sousuo search-box menu-reset"></span>
      <span class="icon-toc menu-reset">Toc</span>
      <span class="iconfont icon-arrowup menu-reset"></span>
    </div>
    <div id="fixed-menu">
      <span class="iconfont icon-menu-"></span>
    </div>
    <div id="progress">
      <div class="line"></div>
    </div>
    <div id="search-shade" class="animated hiddenSearch hide">
      <div class="input-wrap">
        <span class="iconfont icon-sousuo search-box"></span>
        <input type="text" placeholder="Search" />
        <span class="iconfont icon-close"></span>
      </div>
      <div class="search-result">
        <div class="meta">
          <span><b id="result-count">0</b> results found</span>
          <img src="/images/logo.jpeg" />
        </div>
        <ul id="result-box"></ul>
      </div>
    </div>
    <div id="menu-mask" class="animated hideMenuMask hide">
      <span class="iconfont icon-close"></span>
      <div class="nav">
        
        <a href="/" class="">
          Home
        </a>
        
        <a href="/archives" class="">
          Archives
        </a>
        
        <a href="/categories" class="">
          Categories
        </a>
        
        <a href="/tags" class="">
          Tags
        </a>
        
        <a href="/friends" class="">
          Friends
        </a>
        
        <a href="/about" class="">
          About
        </a>
        
      </div>
    </div>
    <div id="header">
      <div class="intro">
        <a href="/" class="logo" style="background-image: url('/images/logo.jpeg')"></a>
        <div class="author">sher-wu</div>
      </div>
      <div class="nav">
        <span class="iconfont icon-menu menu-icon"></span>
        <a href="#" class="search-box">
          <span class="iconfont icon-sousuo"></span>
        </a>
      </div>
    </div>
    <div id="side" class="animated bounceInLeft">
      <div class="shrink">
        <a href="/" class="logo" style="background-image: url('/images/logo.jpeg')"></a>
        <span class="iconfont icon-menu toggle-icon"></span>
        <a href="#" class="search-box">
          <span class="iconfont icon-sousuo"></span>
        </a>
      </div>
      <div class="magnify">
        <div class="about">
          <div class="author">sher-wu</div>
          <a href="/" class="logo" style="background-image: url('/images/logo.jpeg')"></a>
        </div>

        <div class="nav">
          
          <a href="/" class="">
            Home
          </a>
          
          <a href="/archives" class="">
            Archives
          </a>
          
          <a href="/categories" class="">
            Categories
          </a>
          
          <a href="/tags" class="">
            Tags
          </a>
          
          <a href="/friends" class="">
            Friends
          </a>
          
          <a href="/about" class="">
            About
          </a>
          
          <a href="#" class="search-box">
            <span class="iconfont icon-sousuo"></span>
          </a>
        </div>
        <div class="bottom">
          <div class="follow">
            
            <a href="https://github.com/sher-wu" target="_block">
              <span class="iconfont icon-github"></span>
            </a>
            
            <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=425099035&amp;site=qq&amp;menu=yes" target="_block">
              <span class="iconfont icon-QQ"></span>
            </a>
             
            <a href="/atom.xml" target="_block">
              <span class="iconfont icon-rss"></span>
            </a>
            
          </div>
        </div>
      </div>
    </div>
    <div id="container">
      <div class="main animated bounceInRight delay-0.7s">
        <article class="post-entry">
    <div class="header">
      
      <div class="title">CF1041E</div>
      <div class="meta">
        <span class="item">
          <span class="iconfont icon-time-circle"></span>
          <span>2019/11/14</span>
        </span>

        

         
        <span class="item">
          <span class="iconfont icon-folder"></span>
          <span>
              
                
                  <a href="/categories/Code">Code</a>
                
              
          </span>
        </span>
        
        
         
          <span class="item">
            <span class="iconfont icon-tag1"></span>
            <span>
                
                  
                    <a href="/tags/贪心">贪心</a>
                  
                
                  
                    <a href="/tags/构造">构造</a>
                  
                
            </span>
          </span>
         
      </div>
      <div>
      </div>
    </div>
    <h1 id="cf-round-509-div.2-e.-tree-reconstruction">CF Round #509 (Div.2) E. Tree Reconstruction<a class="post-anchor" href="#cf-round-509-div.2-e.-tree-reconstruction"></a></h1>
<hr>
<h2 id="description">Description<a class="post-anchor" href="#description"></a></h2>
<p>1 second per test<br>
Monocarp has drawn a tree (an undirected connected acyclic graph) and then has given each vertex an index. All indices are distinct numbers from 1 to n. For every edge e of this tree, Monocarp has written two numbers: the maximum indices of the vertices of the two components formed if the edge e (and only this edge) is erased from the tree.</p>
<p>Monocarp has given you a list of n−1 pairs of numbers. He wants you to provide an example of a tree that will produce the said list if this tree exists. If such tree does not exist, say so.</p>
<h2 id="input">Input<a class="post-anchor" href="#input"></a></h2>
<p>The first line contains one integer n (2≤n≤1000) — the number of vertices in the tree.</p>
<p>Each of the next n−1 lines contains two integers ai and bi each (<span class="math inline">\(1&lt;=ai&lt;bi&lt;=n\)</span>) — the maximal indices of vertices in the components formed if the i-th edge is removed.</p>
<h2 id="output">Output<a class="post-anchor" href="#output"></a></h2>
<p>If there is no such tree that can produce the given list of pairs, print "NO" (without quotes).</p>
<p>Otherwise print "YES" (without quotes) in the first line and the edges of the tree in the next n−1 lines. Each of the last n−1 lines should contain two integers xi and yi (1≤xi,yi≤n) — vertices connected by an edge.</p>
<p><strong>Note: The numeration of edges doesn't matter for this task. Your solution will be considered correct if your tree produces the same pairs as given in the input file (possibly reordered). That means that you can print the edges of the tree you reconstructed in any order.</strong></p>
<h2 id="examples">Examples<a class="post-anchor" href="#examples"></a></h2>
<h3 id="input-1">input<a class="post-anchor" href="#input-1"></a></h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1"></a><span class="dv">4</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="dv">3</span> <span class="dv">4</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="dv">1</span> <span class="dv">4</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="dv">3</span> <span class="dv">4</span></span></code></pre></div>
<h3 id="output-1">output<a class="post-anchor" href="#output-1"></a></h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1"></a>YES</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="dv">1</span> <span class="dv">3</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="dv">3</span> <span class="dv">2</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="dv">2</span> <span class="dv">4</span></span></code></pre></div>
<h3 id="input-2">input<a class="post-anchor" href="#input-2"></a></h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1"></a><span class="dv">3</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="dv">1</span> <span class="dv">3</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="dv">1</span> <span class="dv">3</span></span></code></pre></div>
<h3 id="output-2">output<a class="post-anchor" href="#output-2"></a></h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1"></a>NO</span></code></pre></div>
<h3 id="input-3">input<a class="post-anchor" href="#input-3"></a></h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1"></a><span class="dv">3</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="dv">1</span> <span class="dv">2</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="dv">2</span> <span class="dv">3</span></span></code></pre></div>
<h3 id="output-3">output<a class="post-anchor" href="#output-3"></a></h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1"></a>NO</span></code></pre></div>
<h2 id="note">Note<a class="post-anchor" href="#note"></a></h2>
<p>Possible tree from the first example. Dotted lines show edges you need to remove to get appropriate pairs.</p>
<figure>
<a href="http://codeforces.com/predownloaded/f1/81/f1814da1ac9aa4b5d09f17190f399b97a018ac08.png" target="_blank" rel="noopener" data-caption data-fancybox="images"><img src="http://codeforces.com/predownloaded/f1/81/f1814da1ac9aa4b5d09f17190f399b97a018ac08.png" alt></a><figcaption>Example</figcaption>
</figure>
<blockquote>
<p>题意：<br>
是说，要构建一个树，使得它砍掉每一条边时，左右的最大权值是给定的值。 例如样例1，4-2-3-1，砍第一二条边左右最大都是4&amp;3，砍第三条是4&amp;1，符合题意，然后输出每一条边的左右节点。</p>
</blockquote>
<blockquote>
<p>思路：<br>
最最最基本的，它的某一边最大一定是n，否则直接No。 如果n，x只出现了一次，那直接n，x相连即可。 如果出现了两次，那么要在n与x中间加一个比x小的数i。 如果三次。。。 那么就直接是贪心，从最小的x开始，i也从1开始递增，根据n，x出现的次数多少决定在n，x中间加多少个数（次数-1）。</p>
</blockquote>
<div class="sourceCode" id="cb7"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb7-1"><a href="#cb7-1"></a><span class="pp">#include</span><span class="im">&lt;bits/stdc++.h&gt;</span></span>
<span id="cb7-2"><a href="#cb7-2"></a><span class="kw">using</span> <span class="kw">namespace</span> std;</span>
<span id="cb7-3"><a href="#cb7-3"></a></span>
<span id="cb7-4"><a href="#cb7-4"></a><span class="dt">int</span> n,a[<span class="dv">1010</span>],b[<span class="dv">1010</span>],c[<span class="dv">1010</span>],now,add[<span class="dv">1010</span>],nown=<span class="dv">1</span>;</span>
<span id="cb7-5"><a href="#cb7-5"></a></span>
<span id="cb7-6"><a href="#cb7-6"></a><span class="dt">int</span> main(){</span>
<span id="cb7-7"><a href="#cb7-7"></a>    cin&gt;&gt;n;</span>
<span id="cb7-8"><a href="#cb7-8"></a>    <span class="cf">for</span>(<span class="dt">int</span> i=<span class="dv">1</span>;i&lt;n;i++){</span>
<span id="cb7-9"><a href="#cb7-9"></a>        <span class="dt">int</span> x,y;</span>
<span id="cb7-10"><a href="#cb7-10"></a>        cin&gt;&gt;x&gt;&gt;y;</span>
<span id="cb7-11"><a href="#cb7-11"></a>        <span class="cf">if</span>(x==n) a[y]++;<span class="co">//（x,n）中x的出现次数</span></span>
<span id="cb7-12"><a href="#cb7-12"></a>        <span class="cf">else</span> <span class="cf">if</span>(y==n) a[x]++; </span>
<span id="cb7-13"><a href="#cb7-13"></a>        <span class="cf">else</span></span>
<span id="cb7-14"><a href="#cb7-14"></a>        {</span>
<span id="cb7-15"><a href="#cb7-15"></a>            cout&lt;&lt;<span class="st">&quot;NO&quot;</span>;</span>
<span id="cb7-16"><a href="#cb7-16"></a>            <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb7-17"><a href="#cb7-17"></a>        }</span>
<span id="cb7-18"><a href="#cb7-18"></a>    }</span>
<span id="cb7-19"><a href="#cb7-19"></a>    <span class="dt">int</span> ch=<span class="dv">1</span>;</span>
<span id="cb7-20"><a href="#cb7-20"></a>    <span class="cf">for</span>(<span class="dt">int</span> i=<span class="dv">1</span>;i&lt;n;i++)</span>
<span id="cb7-21"><a href="#cb7-21"></a>    {</span>
<span id="cb7-22"><a href="#cb7-22"></a>        <span class="cf">if</span>(a[i])<span class="co">//没有就跳过</span></span>
<span id="cb7-23"><a href="#cb7-23"></a>        {</span>
<span id="cb7-24"><a href="#cb7-24"></a>            <span class="dt">int</span> t=n;</span>
<span id="cb7-25"><a href="#cb7-25"></a>            <span class="cf">while</span>(a[i]&gt;<span class="dv">1</span>&amp;&amp;nown&lt;=i)<span class="co">//是1，直接建边</span></span>
<span id="cb7-26"><a href="#cb7-26"></a>            {</span>
<span id="cb7-27"><a href="#cb7-27"></a>                <span class="cf">if</span>(add[nown]==<span class="dv">0</span>){</span>
<span id="cb7-28"><a href="#cb7-28"></a>                    b[++now]=t;</span>
<span id="cb7-29"><a href="#cb7-29"></a>                    c[now]=nown;</span>
<span id="cb7-30"><a href="#cb7-30"></a>                    add[nown]=<span class="dv">1</span>;</span>
<span id="cb7-31"><a href="#cb7-31"></a>                    t=nown;</span>
<span id="cb7-32"><a href="#cb7-32"></a>                    a[i]--;</span>
<span id="cb7-33"><a href="#cb7-33"></a>                }</span>
<span id="cb7-34"><a href="#cb7-34"></a>                nown++;</span>
<span id="cb7-35"><a href="#cb7-35"></a>            }</span>
<span id="cb7-36"><a href="#cb7-36"></a>            <span class="cf">if</span>(nown&gt;i)<span class="co">//不是1，先往小的连，到1以后，再建边</span></span>
<span id="cb7-37"><a href="#cb7-37"></a>            {</span>
<span id="cb7-38"><a href="#cb7-38"></a>                ch=<span class="dv">0</span>;</span>
<span id="cb7-39"><a href="#cb7-39"></a>                <span class="cf">break</span>;</span>
<span id="cb7-40"><a href="#cb7-40"></a>            }</span>
<span id="cb7-41"><a href="#cb7-41"></a>            b[++now]=t;</span>
<span id="cb7-42"><a href="#cb7-42"></a>            c[now]=i;</span>
<span id="cb7-43"><a href="#cb7-43"></a>            add[i]=<span class="dv">1</span>;</span>
<span id="cb7-44"><a href="#cb7-44"></a>            a[i]--;</span>
<span id="cb7-45"><a href="#cb7-45"></a>        }</span>
<span id="cb7-46"><a href="#cb7-46"></a>    }</span>
<span id="cb7-47"><a href="#cb7-47"></a>    <span class="cf">if</span>(ch==<span class="dv">0</span>)<span class="co">//（x,n）的次数少于剩余的小于x的数的总数了，No</span></span>
<span id="cb7-48"><a href="#cb7-48"></a>    {</span>
<span id="cb7-49"><a href="#cb7-49"></a>        cout&lt;&lt;<span class="st">&quot;NO&quot;</span>;</span>
<span id="cb7-50"><a href="#cb7-50"></a>    }</span>
<span id="cb7-51"><a href="#cb7-51"></a>    <span class="cf">else</span></span>
<span id="cb7-52"><a href="#cb7-52"></a>    {</span>
<span id="cb7-53"><a href="#cb7-53"></a>        cout&lt;&lt;<span class="st">&quot;YES&quot;</span>&lt;&lt;endl;</span>
<span id="cb7-54"><a href="#cb7-54"></a>        <span class="cf">for</span>(<span class="dt">int</span> i=<span class="dv">1</span>;i&lt;n;i++)</span>
<span id="cb7-55"><a href="#cb7-55"></a>        {</span>
<span id="cb7-56"><a href="#cb7-56"></a>            cout&lt;&lt;b[i]&lt;&lt;<span class="ch">&#39; &#39;</span>&lt;&lt;c[i]&lt;&lt;endl;</span>
<span id="cb7-57"><a href="#cb7-57"></a>        }</span>
<span id="cb7-58"><a href="#cb7-58"></a>    }</span>
<span id="cb7-59"><a href="#cb7-59"></a>    <span class="cf">return</span> <span class="dv">0</span>;</span>
<span id="cb7-60"><a href="#cb7-60"></a>}</span></code></pre></div>


  
    <div class="post-reward">
    <div id="reward-button">打赏</div>
      <div id="qr">
        <div class="wrap">
            
            <div class="bg-wrap">
              <a href="/images/zhifubao.png" target="_block" class="bg" style="background-image:url('/images/zhifubao.png')"></a>
              支付宝
            </div>
            
            
            <div class="bg-wrap">
                <a href="/images/weixin.png" target="_block" class="bg" style="background-image:url('/images/weixin.png')"></a>
              微信
            </div>
            
        </div>
      </div>
    </div>
  
  <div class="post-guide">
    <div class="item left">
        
          <a href="/2019/11/15/PTA-L3-20/">PTA-L3-20</a>
        
    </div>
    <div class="item right">
        
          <a href="/2019/11/13/PTA-L1-64/">PTA-L1-64</a>
        
    </div>
  </div>

  

  <div class="post-copyright">
    <div class="auth">
      本文作者：<a href="/">sher-wu</a>
    </div>
    <div class="link">
      永久链接：<a href="/2019/11/14/CF1041E/">http://sher-wu.github.io/2019/11/14/CF1041E/</a>
    </div>
    <div class="declare">
      版权声明：本文首发于<a href="/">sher-wu</a>的博客，转载请注明出处！
    </div>
  </div>

  <div id="comment"></div>

  
  
</article>
        <footer>
          <div class="copyright">
            ©2019
            <a href="http://sher-wu.github.io">sher-wu</a> Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> |
            <a href="https://github.com/shixiaohu2206/hexo-theme-huhu" target="_blank" rel="noopener">hexo-theme-huhu</a>
          </div>
          
        </footer>
      </div>
    </div>
  </body>
  
</html>
<script type="text/javascript">
                  window.HUHU_CONFIG = JSON.parse("{\"share\":[\"weibo\",\"weixin\",\"qqkongjian\",\"QQ\",\"douban\",\"facebook\",\"twitter\",\"google\"],\"service_worker\":{\"open\":false},\"baidu_tongji\":{\"site_from\":\"2019/7/26\",\"site_id\":\"\",\"access_token\":\"21.434ad27effea7b2f85bd99ab37c48765.2592000.1578677609.2685265557-18003697\"}}")
                </script> <script type="text/javascript">window.addEventListener('load', function() {
    
    window.loadJs = function(d, m, a) {
      var c = document.getElementsByTagName('head')[0] || document.head || document.documentElement
      var b = document.createElement('script')
      b.defer = true
      b.setAttribute('type', 'text/javascript')
      b.setAttribute('charset', 'UTF-8')
      b.setAttribute('async', 'true')
      b.setAttribute('src', d)
      m && b.setAttribute('data-main', '/scripts/app-built')
      if (typeof a === 'function') {
        if (window.attachEvent) {
          b.onreadystatechange = function() {
            var e = b.readyState
            if (e === 'loaded' || e === 'complete') {
              b.onreadystatechange = null
              a()
            }
          }
        } else {
          b.onload = a
        }
      }
      c.appendChild(b)
    }
    window.loadJs && window.loadJs('https://cdn.bootcss.com/require.js/2.3.6/require.min.js', true, function() {require.config({"paths":{"util":"util","share":"share","search":"search","registerSW":"registerSW","valine":"cdn/Valine.min","av":["https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min"],"pjax":["https://cdn.bootcss.com/jquery.pjax/2.0.1/jquery.pjax.min"],"jquery":["https://cdn.bootcss.com/jquery/3.4.1/jquery.min"],"confirm":["https://cdn.bootcss.com/jquery-confirm/3.3.4/jquery-confirm.min"],"fancybox":["https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min"],"chart":["https://cdn.bootcss.com/Chart.js/2.8.0-rc.1/Chart.bundle.min"]},"map":{"*":{"css":"https://cdn.bootcss.com/require-css/0.1.10/css.min.js"}},"shim":{"fancybox":{"deps":["css!https://cdn.bootcss.com/fancybox/3.5.7/jquery.fancybox.min.css"]},"confirm":{"deps":["css!https://cdn.bootcss.com/jquery-confirm/3.3.4/jquery-confirm.min.css"]},"chart":{"deps":["css!https://cdn.bootcss.com/Chart.js/2.8.0-rc.1/Chart.min.css"]}},"waitSeconds":3})})
  })</script> <script type="text/javascript">
                  ;(function() {
                    var bp = document.createElement('script')
                    var curProtocol = window.location.protocol.split(':')[0]
                    if (curProtocol === 'https') {
                      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js'
                    } else {
                      bp.src = 'http://push.zhanzhang.baidu.com/push.js'
                    }
                    var s = document.getElementsByTagName('script')[0]
                    s.parentNode.insertBefore(bp, s)
                  })()
                </script> 
